(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var e=`192.168.15.`,t=`3000`,n=5e3;async function r(e,t,r={}){let i=new AbortController,a=setTimeout(()=>i.abort(),n);try{let n=await fetch(`${e}${t}`,{...r,signal:i.signal});if(clearTimeout(a),n.ok)return{success:!0,message:await n.text()||`‚úÖ Solicitud exitosa para ${t}.`};let o=await n.text();throw Error(`‚ùå HTTP Error ${n.status} en ${t}: ${o||n.statusText}`)}catch(e){return clearTimeout(a),e instanceof Error&&e.name===`AbortError`?{success:!1,message:`‚åõ Tiempo de espera agotado (${n/1e3}s). El servidor no respondi√≥.`,status:408}:(console.error(`Error durante la petici√≥n:`,e),{success:!1,message:`üö´ Error de red: El servidor no est√° disponible o hay un problema de CORS/Conexi√≥n.`,status:0})}}async function i(n,i){return r(`http://${e}${n}:${t}`,`/message`,{method:`POST`,headers:{"Content-Type":`text/plain`},body:i})}async function a(n){return r(`http://${e}${n}:${t}`,`/alert`,{method:`GET`})}var o=document.querySelector(`#alert-button`),s=document.querySelector(`#message-button`),c=document.querySelector(`#message-input`),l=document.querySelector(`#alert-status`),u=document.querySelector(`#ip-input`),d=document.querySelector(`#ip-error`);function f(){if(!u||!d)return null;let e=u.value.trim(),t=parseInt(e);return isNaN(t)||t<1||t>254||e.includes(`.`)?(d.textContent=`‚ùó IP inv√°lida. Debe ser un n√∫mero entre 1 y 254.`,null):(d.textContent=``,e)}var p=10,m=!1;function h(e,t=`info`){l&&(l.className=`mt-3 text-sm text-center transition-colors duration-200`,t===`success`?l.classList.add(`text-green-600`,`dark:text-green-400`):t===`error`?l.classList.add(`text-red-600`,`dark:text-red-400`,`font-bold`):t===`loading`?l.classList.add(`text-blue-600`,`dark:text-blue-400`):l.classList.add(`text-gray-500`,`dark:text-gray-400`),l.textContent=e)}async function g(){if(!o||m)return;let e=f();if(!e)return;m=!0,o.disabled=!0,h(`‚è≥ Enviando alerta...`,`loading`);try{let t=await a(e);t.success?h(t.message,`success`):h(t.message,`error`)}catch{h(`‚ùó Error interno al procesar la solicitud.`,`error`)}let t=p,n=setInterval(()=>{--t,t>0?o.textContent=`Reintentar en (${t}s)`:(clearInterval(n),m=!1,o.disabled=!1,o.textContent=`Disparar Alerta`,h(`Listo para una nueva alerta.`,`info`))},1e3)}async function _(){if(!c||!s)return;let e=c.value.trim();if(e.length===0){h(`El mensaje no puede estar vac√≠o.`,`error`);return}let t=f();if(!t)return;s.disabled=!0;let n=s.textContent;s.textContent=`Enviando...`,h(`‚è≥ Enviando mensaje...`,`loading`);try{let n=await i(t,e);n.success?(h(n.message,`success`),c.value=``):h(n.message,`error`)}catch{h(`‚ùó Error interno al procesar el mensaje.`,`error`)}finally{s.disabled=!1,s.textContent=n}}o&&(o.addEventListener(`click`,g),h(`Listo para enviar la alerta.`,`info`)),s&&s.addEventListener(`click`,_);